<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algae Protein Optimization Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 10px;
            backdrop-filter: blur(10px);
        }

        .nav-tab {
            background: transparent;
            border: none;
            color: white;
            padding: 12px 24px;
            margin: 0 5px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card h3 {
            color: #667eea;
            margin: 25px 0 15px 0;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .explanation-box {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-left: 5px solid #667eea;
            border-radius: 0 15px 15px 0;
            padding: 20px;
            margin: 20px 0;
        }

        .explanation-box h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            line-height: 1.6;
            color: #4a5568;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: scale(1.05);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .image-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-8px);
        }

        .image-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 3px solid #667eea;
        }

        .image-card-content {
            padding: 20px;
        }

        .image-card h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .image-card p {
            color: #718096;
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            position: relative;
        }

        .step::after {
            content: '';
            position: absolute;
            right: -50px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 2px;
            background: #667eea;
        }

        .step:last-child::after {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            transition: width 1s ease;
        }

        .run-selector {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .run-selector select {
            background: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            margin: 0 10px;
        }

        .run-selector label {
            color: white;
            font-weight: 500;
            margin-right: 10px;
        }

        .glossary-term {
            background: #f7fafc;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .glossary-term strong {
            color: #2d3748;
            display: block;
            margin-bottom: 5px;
        }

        .tutorial-step {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
            position: relative;
        }

        .tutorial-step::before {
            content: attr(data-step);
            position: absolute;
            top: -15px;
            left: 20px;
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .highlight-box {
            background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
            border: 2px solid #feb2b2;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: #c53030;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .footer {
            text-align: center;
            padding: 40px 0;
            color: white;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-dna"></i> Algae Protein Optimization Dashboard</h1>
            <p>Understanding how genetic algorithms help optimize algae proteins for enhanced CO‚ÇÇ absorption</p>
        </div>

        <div class="run-selector">
            <label for="runSelect"><i class="fas fa-folder"></i> Select Optimization Run:</label>
            <select id="runSelect" onchange="loadRunData()">
                <option value="">Choose a run...</option>
                <!-- Run options will be populated by JavaScript -->
            </select>
            <button class="btn" onclick="runNewOptimization()">
                <i class="fas fa-play"></i> Start New Optimization
            </button>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('overview')">
                <i class="fas fa-home"></i> Overview
            </button>
            <button class="nav-tab" onclick="showSection('tutorial')">
                <i class="fas fa-graduation-cap"></i> How It Works
            </button>
            <button class="nav-tab" onclick="showSection('results')">
                <i class="fas fa-chart-line"></i> Results
            </button>
            <button class="nav-tab" onclick="showSection('analysis')">
                <i class="fas fa-microscope"></i> Analysis
            </button>
            <button class="nav-tab" onclick="showSection('glossary')">
                <i class="fas fa-book"></i> Glossary
            </button>
        </div>

        <!-- Overview Section -->
        <div id="overview" class="content-section active">
            <div class="card">
                <h2><i class="fas fa-info-circle"></i> What This Project Does</h2>
                
                <div class="explanation-box">
                    <h4><i class="fas fa-lightbulb"></i> The Big Picture</h4>
                    <p>Climate change is a major challenge, and we need innovative solutions to reduce CO‚ÇÇ in our atmosphere. This project uses computer algorithms to optimize proteins in algae (tiny aquatic plants) to make them better at absorbing CO‚ÇÇ from the environment.</p>
                </div>

                <div class="tutorial-step" data-step="1">
                    <h3>üå± Why Algae?</h3>
                    <p>Algae are nature's CO‚ÇÇ processors! They use an enzyme called <strong>carbonic anhydrase</strong> to convert CO‚ÇÇ into forms they can use for growth. By making this enzyme work better, we can create super-efficient algae that absorb more CO‚ÇÇ.</p>
                </div>

                <div class="tutorial-step" data-step="2">
                    <h3>üß¨ How We Optimize</h3>
                    <p>We use a <strong>genetic algorithm</strong> - a computer program that mimics evolution. Just like nature evolves better organisms over time, our algorithm evolves better protein sequences over many generations.</p>
                </div>

                <div class="tutorial-step" data-step="3">
                    <h3>üìä What We Measure</h3>
                    <p>We evaluate each protein on four key factors:</p>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.6;">
                        <li><strong>CO‚ÇÇ Affinity:</strong> How well it binds to CO‚ÇÇ</li>
                        <li><strong>Stability:</strong> How sturdy the protein structure is</li>
                        <li><strong>Expression:</strong> How easily cells can produce it</li>
                        <li><strong>Catalytic Efficiency:</strong> How fast it processes CO‚ÇÇ</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4><i class="fas fa-target"></i> Our Goal</h4>
                    <p>Create optimized algae proteins that can absorb significantly more CO‚ÇÇ than natural versions, potentially helping with carbon capture technologies and climate change mitigation.</p>
                </div>
            </div>
        </div>

        <!-- Tutorial Section -->
        <div id="tutorial" class="content-section">
            <div class="card">
                <h2><i class="fas fa-graduation-cap"></i> Step-by-Step Tutorial</h2>

                <div class="step-indicator">
                    <div class="step">1</div>
                    <div class="step">2</div>
                    <div class="step">3</div>
                    <div class="step">4</div>
                    <div class="step">5</div>
                </div>

                <div class="tutorial-step" data-step="1">
                    <h3>üß¨ Loading the Original Protein</h3>
                    <p>We start with a real carbonic anhydrase protein sequence from <em>Chlorella sorokiniana</em> (a type of algae). This protein is already good at processing CO‚ÇÇ, but we want to make it even better!</p>
                    <div class="explanation-box">
                        <h4>What's a protein sequence?</h4>
                        <p>Think of it like a recipe made of 20 different ingredients (amino acids). The order and combination of these ingredients determines what the protein can do.</p>
                    </div>
                </div>

                <div class="tutorial-step" data-step="2">
                    <h3>üéØ Setting Optimization Goals</h3>
                    <p>We tell our algorithm what makes a "good" protein by defining fitness functions:</p>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.6;">
                        <li><strong>CO‚ÇÇ Binding Score:</strong> Looks for amino acids that help grab CO‚ÇÇ molecules</li>
                        <li><strong>Structural Stability:</strong> Ensures the protein won't fall apart</li>
                        <li><strong>Production Efficiency:</strong> Makes sure cells can actually make this protein</li>
                        <li><strong>Catalytic Power:</strong> Measures how fast it can process CO‚ÇÇ</li>
                    </ul>
                </div>

                <div class="tutorial-step" data-step="3">
                    <h3>üß™ Running Evolution Simulation</h3>
                    <p>Our genetic algorithm creates a "population" of 100 different protein variants and evolves them over many generations:</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <p><strong>Selection:</strong> Best proteins survive<br>
                    <strong>Crossover:</strong> Combine good features from different proteins<br>
                    <strong>Mutation:</strong> Try small random changes<br>
                    <strong>Repeat:</strong> Do this for 50+ generations</p>
                </div>

                <div class="tutorial-step" data-step="4">
                    <h3>üìä Analyzing Results</h3>
                    <p>After evolution completes, we analyze how much better our optimized proteins are compared to the original. We create detailed visualizations showing:</p>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.6;">
                        <li>Fitness improvement over time</li>
                        <li>3D landscapes of the optimization space</li>
                        <li>Detailed protein composition analysis</li>
                        <li>CO‚ÇÇ binding predictions</li>
                    </ul>
                </div>

                <div class="tutorial-step" data-step="5">
                    <h3>üéâ Understanding Success</h3>
                    <p>A successful optimization typically shows:</p>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.6;">
                        <li><strong>Increased CO‚ÇÇ affinity:</strong> 5-15% improvement</li>
                        <li><strong>Maintained stability:</strong> Protein structure remains sound</li>
                        <li><strong>Balanced performance:</strong> No single metric dominates</li>
                        <li><strong>Convergence:</strong> Algorithm finds stable optimal solutions</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="content-section">
            <div class="card">
                <h2><i class="fas fa-chart-line"></i> Optimization Results</h2>
                
                <div id="metricsContainer">
                    <!-- Metrics will be populated by JavaScript -->
                </div>

                <div class="explanation-box">
                    <h4><i class="fas fa-question-circle"></i> How to Read These Numbers</h4>
                    <p><strong>Higher is Better:</strong> All our metrics range from 0 to 1, where 1 is perfect. The improvement percentage shows how much better our optimized protein is compared to the original.</p>
                </div>

                <div id="visualizationsContainer">
                    <!-- Visualizations will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Analysis Section -->
        <div id="analysis" class="content-section">
            <div class="card">
                <h2><i class="fas fa-microscope"></i> Detailed Analysis</h2>
                
                <div class="explanation-box">
                    <h4><i class="fas fa-chart-area"></i> Understanding the Visualizations</h4>
                    <p>Each visualization tells a different part of the optimization story. Here's how to interpret what you see:</p>
                </div>

                <div class="tutorial-step" data-step="üìà">
                    <h3>Evolution Progress Plots</h3>
                    <p><strong>What it shows:</strong> How each fitness component improved over generations</p>
                    <p><strong>What to look for:</strong> Upward trending lines indicate successful optimization. Flat lines suggest the algorithm has found the best possible solution.</p>
                </div>

                <div class="tutorial-step" data-step="üèîÔ∏è">
                    <h3>3D Fitness Landscapes</h3>
                    <p><strong>What it shows:</strong> The "terrain" of possible protein configurations</p>
                    <p><strong>What to look for:</strong> The algorithm's path from start (red) to finish (green). Peaks represent high-fitness regions.</p>
                </div>

                <div class="tutorial-step" data-step="üß¨">
                    <h3>Sequence Analysis</h3>
                    <p><strong>What it shows:</strong> Amino acid composition and important functional regions</p>
                    <p><strong>Color coding:</strong> Red = zinc-binding, Blue = catalytic, Gold = structural, Green = substrate-binding</p>
                </div>

                <div class="tutorial-step" data-step="‚ö°">
                    <h3>CO‚ÇÇ Binding Analysis</h3>
                    <p><strong>What it shows:</strong> Specific predictions about CO‚ÇÇ processing ability</p>
                    <p><strong>Key metrics:</strong> Overall affinity, zinc coordination, catalytic activity, and conserved motifs</p>
                </div>

                <div class="highlight-box">
                    <h4><i class="fas fa-star"></i> Success Indicators</h4>
                    <p>Look for these signs of successful optimization:</p>
                    <ul style="margin: 10px 0 0 20px;">
                        <li>Steady fitness improvement over generations</li>
                        <li>Final CO‚ÇÇ affinity above 0.7 (excellent performance)</li>
                        <li>Balanced scores across all metrics</li>
                        <li>Clear convergence in the final generations</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Glossary Section -->
        <div id="glossary" class="content-section">
            <div class="card">
                <h2><i class="fas fa-book"></i> Scientific Glossary</h2>
                
                <div class="glossary-term">
                    <strong>Genetic Algorithm</strong>
                    A computer method that mimics natural evolution to find optimal solutions. It creates a population of candidates, selects the best ones, combines their features, and repeats this process over many generations.
                </div>

                <div class="glossary-term">
                    <strong>Carbonic Anhydrase</strong>
                    An enzyme that catalyzes the conversion of CO‚ÇÇ and water into bicarbonate and protons. It's crucial for CO‚ÇÇ transport and processing in living organisms.
                </div>

                <div class="glossary-term">
                    <strong>FASTA Sequence</strong>
                    A standard format for representing protein or DNA sequences using single letters for each amino acid or nucleotide.
                </div>

                <div class="glossary-term">
                    <strong>Fitness Function</strong>
                    A mathematical formula that evaluates how "good" a candidate solution is based on specific criteria we care about.
                </div>

                <div class="glossary-term">
                    <strong>Amino Acids</strong>
                    The building blocks of proteins. There are 20 standard amino acids, each with different chemical properties that affect protein function.
                </div>

                <div class="glossary-term">
                    <strong>Zinc Binding</strong>
                    Many enzymes, including carbonic anhydrase, require zinc ions to function properly. Zinc binding sites are critical for catalytic activity.
                </div>

                <div class="glossary-term">
                    <strong>Catalytic Efficiency</strong>
                    A measure of how fast an enzyme can convert substrate molecules into products. Higher efficiency means faster CO‚ÇÇ processing.
                </div>

                <div class="glossary-term">
                    <strong>Protein Stability</strong>
                    How well a protein maintains its functional 3D structure under various conditions like temperature and pH changes.
                </div>

                <div class="glossary-term">
                    <strong>NSGA-II</strong>
                    Non-dominated Sorting Genetic Algorithm II - an advanced genetic algorithm designed to optimize multiple objectives simultaneously.
                </div>

                <div class="glossary-term">
                    <strong>Pareto Front</strong>
                    In multi-objective optimization, the set of solutions where improving one objective would require worsening another.
                </div>
            </div>
        </div>

        <div class="footer">
            <p>üåç Contributing to climate solutions through computational biology ‚Ä¢ Built with Python, DEAP, and BioPython</p>
        </div>
    </div>

    <script>
        // Global variables
        let currentRunData = null;
        let availableRuns = [];

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadAvailableRuns();
        });

        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function loadAvailableRuns() {
            // This will be populated by the Python backend
            fetch('/api/runs')
                .then(response => response.json())
                .then(data => {
                    availableRuns = data.runs;
                    updateRunSelector();
                })
                .catch(error => {
                    console.log('Loading sample data...');
                    // Fallback to sample data
                    loadSampleData();
                });
        }

        function updateRunSelector() {
            const select = document.getElementById('runSelect');
            select.innerHTML = '<option value="">Choose a run...</option>';
            
            availableRuns.forEach(run => {
                const option = document.createElement('option');
                option.value = run.id;
                option.textContent = `${run.timestamp} - ${run.description}`;
                select.appendChild(option);
            });
        }

        function loadRunData() {
            const runId = document.getElementById('runSelect').value;
            if (!runId) return;
            
            // Load run data - this would typically fetch from backend
            const selectedRun = availableRuns.find(run => run.id === runId);
            if (selectedRun) {
                currentRunData = selectedRun;
                updateMetricsDisplay();
                updateVisualizationsDisplay();
            }
        }

        function updateMetricsDisplay() {
            if (!currentRunData) return;
            
            const container = document.getElementById('metricsContainer');
            const metrics = currentRunData.metrics;
            
            container.innerHTML = `
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">${(metrics.final_co2_affinity * 100).toFixed(1)}%</div>
                        <div class="metric-label">Final CO‚ÇÇ Affinity</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">+${metrics.improvement_percentage.toFixed(1)}%</div>
                        <div class="metric-label">Improvement</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${metrics.generations}</div>
                        <div class="metric-label">Generations</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${(metrics.final_stability * 100).toFixed(0)}%</div>
                        <div class="metric-label">Protein Stability</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${(metrics.final_expression * 100).toFixed(0)}%</div>
                        <div class="metric-label">Expression Level</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${(metrics.final_catalytic * 100).toFixed(0)}%</div>
                        <div class="metric-label">Catalytic Efficiency</div>
                    </div>
                </div>
            `;
        }

        function updateVisualizationsDisplay() {
            if (!currentRunData) return;
            
            const container = document.getElementById('visualizationsContainer');
            const visualizations = currentRunData.visualizations;
            
            let html = '<div class="image-grid">';
            
            visualizations.forEach(viz => {
                html += `
                    <div class="image-card">
                        <img src="${viz.path}" alt="${viz.title}" onerror="this.style.display='none'">
                        <div class="image-card-content">
                            <h4>${viz.title}</h4>
                            <p>${viz.description}</p>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function runNewOptimization() {
            // This would trigger a new optimization run
            alert('New optimization would be started here. This connects to the Python backend to run the genetic algorithm.');
        }

        function loadSampleData() {
            // Sample data for demonstration
            availableRuns = [
                {
                    id: 'run_20241027_143022',
                    timestamp: '2024-10-27 14:30:22',
                    description: 'Multi-objective optimization (50 generations)',
                    metrics: {
                        initial_co2_affinity: 0.7427,
                        final_co2_affinity: 0.8387,
                        improvement_percentage: 8.9,
                        final_stability: 0.73,
                        final_expression: 0.68,
                        final_catalytic: 0.76,
                        generations: 50
                    },
                    visualizations: [
                        {
                            title: 'Evolution Progress',
                            path: './evolution_progress.png',
                            description: 'Shows how each fitness component improved over 50 generations'
                        },
                        {
                            title: '3D Fitness Landscape',
                            path: './3d_fitness_landscape.png',
                            description: 'Three-dimensional view of the optimization space'
                        },
                        {
                            title: 'Original Sequence Analysis',
                            path: './original_sequence_analysis.png',
                            description: 'Amino acid composition of the starting protein'
                        },
                        {
                            title: 'Optimized Sequence Analysis',
                            path: './optimized_sequence_analysis.png',
                            description: 'Amino acid composition after optimization'
                        },
                        {
                            title: 'CO‚ÇÇ Binding Analysis',
                            path: './co2_binding_analysis.png',
                            description: 'Detailed analysis of CO‚ÇÇ binding capabilities'
                        },
                        {
                            title: 'Sequence Comparison',
                            path: './sequence_comparison.png',
                            description: 'Side-by-side comparison of original vs optimized'
                        }
                    ]
                }
            ];
            updateRunSelector();
            
            // Auto-select the first run
            document.getElementById('runSelect').value = availableRuns[0].id;
            loadRunData();
        }
    </script>
</body>
</html>